unit VLCInstance;

interface

uses
  System.SysUtils, System.Classes, PasLibVlcUnit;

type
  TVLCInstance = class(TComponent)
  private
    VLCInstance: libvlc_instance_t_ptr;
  protected
    { Protected declarations }
  public
    procedure initVLC;
  published
    { Published declarations }
  end;

procedure Register;

implementation

procedure Register;
begin
  RegisterComponents('VLCMonkey', [TVLCInstance]);
end;

procedure TVLCInstance.initVLC;
var
  vlcargs : array[0..0] of PAnsiChar;
begin
  if VLCInstance <> nil then exit;

  libvlc_dynamic_dll_init();
  vlcargs[0] := PAnsiChar(libvlc_dynamic_dll_path);
//  args[2] := nil;
  VLCInstance := libvlc_new(Length(vlcargs), @vlcargs);
  bInitSuccedd := true;
end;

end.
